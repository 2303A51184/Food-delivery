<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TasteHub ‚Äì Secure Checkout & Tracking</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', sans-serif; background: #f9fafc; color: #333; scroll-behavior: smooth; }

    header { display: flex; justify-content: space-between; align-items: center; padding: 15px 50px;
      background: #ff5722; color: white; box-shadow: 0 2px 6px rgba(0,0,0,0.15); position: sticky; top: 0; z-index:10; }
    .logo { font-size: 1.8rem; font-weight: bold; }
    nav a { margin-left: 20px; text-decoration: none; font-size: 1rem; color: white; transition: color 0.3s; cursor: pointer; }
    nav a:hover { color: #000; }

    section { padding: 50px 20px; }

    .hero { text-align: center; background: linear-gradient(135deg,#ffe0b2,#fff3e0); padding:60px 20px; }
    .hero h1 { font-size: 2.5rem; margin-bottom: 10px; }
    .hero p { font-size: 1.1rem; color: #444; }

    .menu { max-width:1200px; margin:40px auto; display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
    .card { background:#fff; border-radius:12px; padding:15px; box-shadow:0 4px 10px rgba(0,0,0,0.08);
      text-align:center; width:280px; transition:transform 0.2s ease; }
    .card:hover { transform:translateY(-5px); }
    .card img { width:100%; height:180px; object-fit:cover; border-radius:8px; margin-bottom:10px; }
    .card h3 { color:#e64a19; margin-bottom:8px; }
    .card p { margin-bottom:10px; }
    .card button { background:#ff7043; color:white; border:none; padding:10px 20px; border-radius:6px;
      cursor:pointer; font-weight:bold; transition: background 0.3s; }
    .card button:hover { background: #e64a19; }

    h2.section-title { text-align:center; color:#ff5722; margin:40px 0 20px; font-size:1.8rem; }

    #cartSection { max-width:1000px; margin:50px auto; gap:20px; flex-wrap:wrap; display:none; }
    .cart-row { display:flex; gap:20px; flex-wrap:wrap; }
    .cart-card, .payment-card {
      flex:1; background:#fff; padding:20px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.08); min-width:300px;
    }
    .cart-card h2, .payment-card h2 { margin-bottom:15px; color:#ff5722; }
    .total { font-weight:bold; margin:15px 0; font-size:1.1rem; }
    .payment-option { margin:10px 0; display:block; }
    .qr img { width:150px; margin:10px 0; }
    .checkout-btn {
      background:#43a047; color:white; border:none; padding:12px 20px; border-radius:8px;
      cursor:pointer; font-size:1rem; font-weight:bold; width:100%; margin-top:20px; transition: background 0.3s;
    }
    .checkout-btn:hover { background:#2e7d32; }
    #successMessage {
      display:none; margin-top:20px; padding:15px; border-radius:8px;
      background:#e8f5e9; color:#2e7d32; font-size:1.1rem;font-weight:bold;text-align:center;
    }

    .card-form { display:none; margin-top:15px; background:#fafafa; padding:15px; border-radius:8px; border:1px solid #ddd; }
    .card-form input { width:100%; padding:10px; margin:8px 0; border-radius:6px; border:1px solid #ccc; }

    footer { background:#333; color:white; text-align:center; padding:15px; margin-top:50px; }

    /* Login Modal */
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6);
      justify-content:center; align-items:center; z-index:20; }
    .modal-content { background:#fff; padding:25px; border-radius:12px; width:320px; text-align:center; }
    .modal-content input { width:100%; padding:10px; margin:8px 0; border-radius:6px; border:1px solid #ccc; }
    .modal-content button { background:#ff5722; color:#fff; border:none; padding:10px; border-radius:8px; cursor:pointer; width:100%; }
    .modal-content button:hover { background:#e64a19; }

    /* Track Orders */
    #trackOrders { max-width:1000px; margin:40px auto; display:none; background:#fff; padding:20px; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
    .order-status { margin-top:10px; padding:10px; border-left:5px solid #ff5722; background:#fff7f2; border-radius:6px; }
    #map { width:100%; height:420px; margin-top:20px; border-radius:12px; display:block; }

    @media (max-width: 800px) {
      header { padding: 12px 20px; }
      .menu { gap: 12px; }
      .card { width: 100%; max-width: 320px; }
      .cart-row { flex-direction: column; }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">TasteHub</div>
    <nav>
      <a onclick="scrollToSection('home')">Home</a>
      <a onclick="scrollToSection('menu')">Menu</a>
      <a onclick="scrollToSection('cartSection')">Checkout</a>
      <a onclick="scrollToSection('trackOrders')">Track Orders</a>
      <a onclick="scrollToSection('about')">About</a>
      <a id="loginNav" onclick="openLogin()">Login</a>
      <a href="#" id="logoutBtn" style="display:none;" onclick="logout()">Logout</a>
    </nav>
  </header>

  <section id="home" class="hero">
    <h1>Delicious Food, Delivered Fast</h1>
    <p>Fresh meals, fast delivery, and secure payments.</p>
  </section>

  <section id="menu">
    <h2 class="section-title">Starters</h2>
    <div class="menu">
      <div class="card">
        <img src="http://www.maatamanti.com/wp-content/uploads/2017/10/Veg-Manchurian2.jpg" alt="Veg Manchurian">
        <h3>Veg Manchurian</h3><p>‚Çπ180</p><button onclick="addToCart('Veg Manchurian',180)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://2.bp.blogspot.com/-neI6rKuvsKI/VyN8GMrfhzI/AAAAAAAAHls/hugFFTKYgs8lrtUSXx0iEyG-KZwL4bPbwCLcB/s1600/tandoori-paneer-tikka4.jpg" alt="Paneer Tikka">
        <h3>Paneer Tikka</h3><p>‚Çπ220</p><button onclick="addToCart('Paneer Tikka',220)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://tse3.mm.bing.net/th/id/OIP.y9zUXfRHBewNqpNS2QHfTgHaLF?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Crispy Corn">
        <h3>Crispy Corn</h3><p>‚Çπ160</p><button onclick="addToCart('Crispy Corn',160)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://www.seriouseats.com/thmb/_BkW9V2wK3Zed-zQAETkRSJS8ac=/1500x1125/filters:fill(auto,1)/__opt__aboutcom__coeus__resources__content_migration__serious_eats__seriouseats.com__2018__04__20180309-french-fries-vicky-wasik-15-5a9844742c2446c7a7be9fbd41b6e27d.jpg" alt="French Fries">
        <h3>French Fries</h3><p>‚Çπ120</p><button onclick="addToCart('French Fries',120)">Add to Cart</button>
      </div>
    </div>

    <h2 class="section-title">Main Course</h2>
    <div class="menu">
      <div class="card">
        <img src="https://tse2.mm.bing.net/th/id/OIP.DMVblX6R9BnN1i_MtSD22gHaJ4?rs=1&pid=ImgDetMain&o=7&rm=3" alt="Dal Tadka">
        <h3>Dal Tadka</h3><p>‚Çπ160</p><button onclick="addToCart('Dal Tadka',160)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://i0.wp.com/southindianrecipes.in/wp-content/uploads/2021/09/Chicken-Curry-Recipe.jpg?resize=768%2C1024&ssl=1" alt="Chicken Curry">
        <h3>Chicken Curry</h3><p>‚Çπ280</p><button onclick="addToCart('Chicken Curry',280)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://www.sharmispassions.com/wp-content/uploads/2015/06/EggCurry3.jpg" alt="Egg Curry">
        <h3>Egg Curry</h3><p>‚Çπ200</p><button onclick="addToCart('Egg Curry',200)">Add to Cart</button>
      </div>
    </div>

    <h2 class="section-title">Pasta & Breads</h2>
    <div class="menu">
      <div class="card">
        <img src="https://www.sharmispassions.com/wp-content/uploads/2020/03/WhiteSaucePasta7.jpg" alt="White Sauce Pasta">
        <h3>White Sauce Pasta</h3><p>‚Çπ250</p><button onclick="addToCart('White Sauce Pasta',250)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://www.acouplecooks.com/wp-content/uploads/2023/01/Red-Sauce-Pasta-008.jpg" alt="Red Sauce Pasta">
        <h3>Red Sauce Pasta</h3><p>‚Çπ240</p><button onclick="addToCart('Red Sauce Pasta',240)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://cafedelites.com/wp-content/uploads/2020/06/Garlic-Naan-Recipe-IMAGE-76.jpg" alt="Garlic Naan">
        <h3>Garlic Naan</h3><p>‚Çπ60</p><button onclick="addToCart('Garlic Naan',60)">Add to Cart</button>
      </div>
      <div class="card">
        <img src="https://www.tandooriculture.com.sg/wp-content/uploads/2022/06/Tandoori-Butter-Roti-1.jpg" alt="Tandoori Roti">
        <h3>Tandoori Roti</h3><p>‚Çπ40</p><button onclick="addToCart('Tandoori Roti',40)">Add to Cart</button>
      </div>
      <div class="card">
        <!-- Butter Naan image replaced with the URL you provided -->
        <img src="https://img.freepik.com/premium-photo/butter-naan-panner-butter-masala-indian-dish_198067-742857.jpg?w=2000" alt="Butter Naan">
        <h3>Butter Naan</h3><p>‚Çπ50</p><button onclick="addToCart('Butter Naan',50)">Add to Cart</button>
      </div>
    </div>
  </section>

  <section id="cartSection">
    <div class="cart-row">
      <div class="cart-card">
        <h2>Your Cart</h2>
        <div id="cartItems">No items yet.</div>
        <p class="total">Total: ‚Çπ<span id="totalAmount">0</span></p>
      </div>

      <div class="payment-card">
        <h2>Payment</h2>
        <label class="payment-option"><input type="radio" name="payment" value="card"> üí≥ Credit / Debit Card</label>
        <div class="card-form" id="cardForm">
          <input type="text" placeholder="Cardholder Name">
          <input type="text" placeholder="Card Number">
          <input type="text" placeholder="Expiry Date (MM/YY)">
          <input type="password" placeholder="CVV">
        </div>

        <label class="payment-option"><input type="radio" name="payment" value="upi"> üì≤ UPI</label>
        <div class="qr" id="upiQR" style="display:none;">
          <p>Scan QR to Pay:</p>
          <img src="https://www.gs1us.org/content/dam/gs1us/images/landing-pages/2d-barcodes/qr-code-2d%402x.png" alt="UPI QR">
        </div>

        <label class="payment-option"><input type="radio" name="payment" value="wallet"> üëú Wallet</label>
        <label class="payment-option"><input type="radio" name="payment" value="cod"> üíµ Cash on Delivery</label>

        <button class="checkout-btn" onclick="checkout()">Proceed to Pay</button>
        <div id="successMessage">‚úÖ Your payment is done! Your order has been successful.</div>
      </div>
    </div>
  </section>

  <section id="trackOrders">
    <h2 class="section-title">Track Your Order</h2>
    <div id="orderStatus">
      <p>No order placed yet.</p>
    </div>
    <div id="map"></div>
  </section>

  <section id="about">
    <h2 class="section-title">About Us</h2>
    <p style="max-width:800px; margin:0 auto; text-align:center;">
      Welcome to TasteHub, your destination for mouthwatering meals delivered fresh and fast.
    </p>
  </section>

  <footer>&copy; 2024 TasteHub Multicuisine Restaurant. All Rights Reserved.</footer>

  <!-- Login Modal -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <h2>Login</h2>
      <input type="text" id="username" placeholder="Enter Username">
      <input type="password" id="password" placeholder="Enter Password">
      <button onclick="login()">Login</button>
    </div>
  </div>

  <script>
    // STATE
    let cart = [], total = 0;
    let loggedIn = false;
    let currentOrder = null;
    let map, marker, pathIndex = 0, trackingInterval = null;

    // sample route coordinates (Warangal-ish). Replace with real path if available.
    const route = [
      { lat: 17.9784, lng: 79.5596 }, // restaurant / start
      { lat: 17.9810, lng: 79.5620 },
      { lat: 17.9860, lng: 79.5650 },
      { lat: 17.9905, lng: 79.5670 }  // customer / end
    ];

    // UTIL: scroll to element
    function scrollToSection(id) {
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: 'smooth' });
    }

    // CART
    function addToCart(item, price) {
      cart.push({ item, price });
      total += price;
      document.getElementById('cartSection').style.display = 'block';
      updateCart();
    }
    function updateCart() {
      const ci = document.getElementById('cartItems');
      if (cart.length === 0) {
        ci.innerHTML = 'No items yet.';
      } else {
        ci.innerHTML = '';
        cart.forEach((c, i) => { ci.innerHTML += `<p>${i+1}. ${c.item} ‚Äì ‚Çπ${c.price}</p>`; });
      }
      document.getElementById('totalAmount').innerText = total;
    }

    // Payment UI
    function setupPaymentInputs() {
      document.querySelectorAll('input[name="payment"]').forEach(input => {
        input.addEventListener('change', function () {
          document.getElementById('upiQR').style.display = this.value === 'upi' ? 'block' : 'none';
          document.getElementById('cardForm').style.display = this.value === 'card' ? 'block' : 'none';
        });
      });
    }

    // CHECKOUT -> requires login -> creates order -> starts tracking
    function checkout() {
      if (!document.querySelector('input[name="payment"]:checked')) {
        return alert('Please select a payment method!');
      }
      if (!loggedIn) {
        openLogin();
        return alert('Please login first to place an order!');
      }

      // simulate success
      document.getElementById('successMessage').style.display = 'block';
      currentOrder = { items: [...cart], total: total, status: "Preparing your food üç≥" };
      showOrderStatus();

      // clear cart UI & state
      cart = []; total = 0; updateCart();

      // show trackOrders section and after short delays change status and begin tracking
      document.getElementById('trackOrders').style.display = 'block';
      setTimeout(() => {
        currentOrder.status = "Out for Delivery üõµ";
        showOrderStatus();
        // initialize map if not already and start moving marker
        if (!map) {
          // map will initialize when API script calls initMap()
          // but if initMap already executed, start tracking
          if (typeof initMap === 'function') {
            // if maps loaded already initMap should have been called by API callback
            // call startMapTracking after short delay to ensure map is ready
            setTimeout(startMapTracking, 500);
          }
        } else {
          startMapTracking();
        }
      }, 2000);
    }

    function showOrderStatus() {
      if (!currentOrder) {
        document.getElementById('orderStatus').innerHTML = '<p>No order placed yet.</p>';
        return;
      }
      document.getElementById('orderStatus').innerHTML = `
        <div class="order-status">
          <p><b>Order Update</b></p>
          <p>Status: ${currentOrder.status}</p>
          <p>Total: ‚Çπ${currentOrder.total}</p>
        </div>`;
    }

    // MAP: initMap is called by Google Maps API callback
    function initMap() {
      const center = route[0] || { lat: 17.9784, lng: 79.5596 };
      map = new google.maps.Map(document.getElementById('map'), {
        center: center,
        zoom: 14
      });

      // Bike icon (replace URL if you prefer a different image)
      const bikeIcon = {
        url: "https://cdn-icons-png.flaticon.com/512/2972/2972185.png",
        scaledSize: new google.maps.Size(48, 48),
        anchor: new google.maps.Point(24, 24)
      };

      marker = new google.maps.Marker({
        position: center,
        map: map,
        icon: bikeIcon,
        title: "Delivery Partner"
      });

      // if order already out for delivery when map loads, start tracking
      if (currentOrder && currentOrder.status && currentOrder.status.includes("Out for Delivery")) {
        startMapTracking();
      }
    }

    // Start simulating the delivery partner along route
    function startMapTracking() {
      // clear any previous interval
      if (trackingInterval) {
        clearInterval(trackingInterval);
      }
      // make sure marker and map exist
      if (!map || !marker) {
        // wait and retry shortly
        setTimeout(startMapTracking, 500);
        return;
      }
      pathIndex = 0;
      marker.setPosition(route[0]);
      map.panTo(route[0]);

      trackingInterval = setInterval(() => {
        pathIndex++;
        if (pathIndex >= route.length) {
          // delivered
          clearInterval(trackingInterval);
          currentOrder.status = "Delivered ‚úÖ";
          showOrderStatus();
          return;
        }
        const pos = route[pathIndex];
        marker.setPosition(pos);
        map.panTo(pos);
      }, 3000); // move every 3 seconds (change speed here)
    }

    // LOGIN / LOGOUT
    function openLogin() { document.getElementById('loginModal').style.display = 'flex'; }
    function login() {
      const u = document.getElementById('username').value.trim();
      const p = document.getElementById('password').value.trim();
      if (u && p) {
        loggedIn = true;
        document.getElementById('loginModal').style.display = 'none';
        document.getElementById('loginNav').style.display = 'none';
        document.getElementById('logoutBtn').style.display = 'inline';
        alert('Login successful!');
      } else {
        alert('Enter username & password!');
      }
    }
    function logout() {
      loggedIn = false;
      document.getElementById('loginNav').style.display = 'inline';
      document.getElementById('logoutBtn').style.display = 'none';
      alert('You have logged out.');
    }

    // modal close on outside click
    window.onclick = function(e) {
      if (e.target === document.getElementById('loginModal')) {
        document.getElementById('loginModal').style.display = "none";
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
      setupPaymentInputs();
      updateCart();
      showOrderStatus();
      // hide trackOrders until order is placed
      document.getElementById('trackOrders').style.display = 'none';
    });
  </script>

 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Warangal Delivery Tracking Map</title>
  <style>
    body {
      background: #f8f8f8;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    #trackingMap {
      margin: 20px auto;
      padding: 20px;
      max-width: 900px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      text-align: center;
    }
    h2 {
      color: #ff5733;
      margin-bottom: 15px;
    }
    iframe {
      width: 100%;
      height: 500px;
      border: 0;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <div id="trackingMap">
    <h2>üó∫Ô∏è Track Delivery (Warangal)</h2>
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d37938.16061976838!2d79.55960928725303!3d17.978423756944954!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a33450f82cf3c63%3A0x88652b5120a4f0e7!2sWarangal%2C%20Telangana!5e0!3m2!1sen!2sin!4v1695479990000!5m2!1sen!2sin" 
      allowfullscreen 
      loading="lazy" 
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>
 </script>
</body>
</html>
